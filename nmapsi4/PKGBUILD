# Maintainer: Jekyll Wu <adaptee [at] gmail [dot] com>

pkgname=nmapsi4
pkgver=0.2.1
pkgrel=1
pkgdesc="Qt-based GUI for nmap."
arch=('i686' 'x86_64')
url="http://www.nmapsi4.org/"
license=('GPL2')
depends=('qt' 'nmap')
makedepends=('cmake')
source=(http://nmapsi4.googlecode.com/files/${pkgname}-${pkgver}.tar.gz)
md5sums=('668b06a680520ec76c941093bb4b80d8')

build() {
    cd "${srcdir}/${pkgname}-${pkgver}"

    if [ -d build ] ; then
        rm build/* -rf
    else
        mkdir build
    fi

    cd build

    cmake -DCMAKE_INSTALL_PREFIX=/usr ../
    make
}

package() {
    cd "${srcdir}/${pkgname}-${pkgver}/build"
    make DESTDIR=${pkgdir} install

    # Change permissions to enable the excutables
    chmod 755 ${pkgdir}/usr/bin/*
}
